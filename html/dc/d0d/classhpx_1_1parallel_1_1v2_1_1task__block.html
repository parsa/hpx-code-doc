<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HPX: hpx::parallel::v2::task_block&lt; ExPolicy &gt; Class Template Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">HPX
   </div>
   <div id="projectbrief">High Performance ParalleX</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d8/d83/namespacehpx.html">hpx</a></li><li class="navelem"><a class="el" href="../../db/d6d/namespacehpx_1_1parallel.html">parallel</a></li><li class="navelem"><a class="el" href="../../d2/d62/namespacehpx_1_1parallel_1_1v2.html">v2</a></li><li class="navelem"><a class="el" href="../../dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block.html">task_block</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../d1/def/classhpx_1_1parallel_1_1v2_1_1task__block-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">hpx::parallel::v2::task_block&lt; ExPolicy &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../de/db7/task__block_8hpp_source.html">task_block.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:aab56ea8bdf25594112ccab9889c3e294"><td class="memItemLeft" align="right" valign="top">typedef ExPolicy&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block.html#aab56ea8bdf25594112ccab9889c3e294">execution_policy</a></td></tr>
<tr class="separator:aab56ea8bdf25594112ccab9889c3e294"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac6a81aa62ea26bd2b790b573af04bac6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block.html#aab56ea8bdf25594112ccab9889c3e294">execution_policy</a> const  &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block.html#ac6a81aa62ea26bd2b790b573af04bac6">get_execution_policy</a> () const</td></tr>
<tr class="separator:ac6a81aa62ea26bd2b790b573af04bac6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a942ef260b49d3bd93b3f63df973b577b"><td class="memTemplParams" colspan="2">template&lt;typename F , typename ... Ts&gt; </td></tr>
<tr class="memitem:a942ef260b49d3bd93b3f63df973b577b"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block.html#a942ef260b49d3bd93b3f63df973b577b">run</a> (<a class="el" href="../../d8/dd8/class_f.html">F</a> &amp;&amp;<a class="el" href="../../d3/da2/protect__test_8cpp.html#a953bf4dc94fd258ac01582821f78ee0e">f</a>, Ts &amp;&amp;... ts)</td></tr>
<tr class="separator:a942ef260b49d3bd93b3f63df973b577b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad19e4cb24036c2adbd421cec62926821"><td class="memTemplParams" colspan="2">template&lt;typename Executor , typename F , typename ... Ts&gt; </td></tr>
<tr class="memitem:ad19e4cb24036c2adbd421cec62926821"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block.html#ad19e4cb24036c2adbd421cec62926821">run</a> (Executor &amp;exec, <a class="el" href="../../d8/dd8/class_f.html">F</a> &amp;&amp;<a class="el" href="../../d3/da2/protect__test_8cpp.html#a953bf4dc94fd258ac01582821f78ee0e">f</a>, Ts &amp;&amp;... ts)</td></tr>
<tr class="separator:ad19e4cb24036c2adbd421cec62926821"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a409b3ac4d95c5f22eaf49a1012d26200"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block.html#a409b3ac4d95c5f22eaf49a1012d26200">wait</a> ()</td></tr>
<tr class="separator:a409b3ac4d95c5f22eaf49a1012d26200"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e54dbb3c28c991b928548366f500455"><td class="memItemLeft" align="right" valign="top">ExPolicy &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block.html#a1e54dbb3c28c991b928548366f500455">policy</a> ()</td></tr>
<tr class="separator:a1e54dbb3c28c991b928548366f500455"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a481461d7f33eff0c9b6df4bb093593"><td class="memItemLeft" align="right" valign="top">ExPolicy const  &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block.html#a3a481461d7f33eff0c9b6df4bb093593">policy</a> () const</td></tr>
<tr class="separator:a3a481461d7f33eff0c9b6df4bb093593"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename ExPolicy = parallel::execution::parallel_policy&gt;<br />
class hpx::parallel::v2::task_block&lt; ExPolicy &gt;</h3>

<p>The class <a class="el" href="../../dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block.html">task_block</a> defines an interface for forking and joining parallel tasks. The <em>define_task_block</em> and <em>define_task_block_restore_thread</em> function templates create an object of type <a class="el" href="../../dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block.html">task_block</a> and pass a reference to that object to a user-provided callable object.</p>
<p>An object of class <em><a class="el" href="../../dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block.html">task_block</a></em> cannot be constructed, destroyed, copied, or moved except by the implementation of the task region library. Taking the address of a <a class="el" href="../../dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block.html">task_block</a> object via operator&amp; or addressof is ill formed. The result of obtaining its address by any other means is unspecified.</p>
<p><a class="el" href="../../d7/da0/struct_a.html">A</a> <em><a class="el" href="../../dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block.html">task_block</a></em> is active if it was created by the nearest enclosing task block, where "task block" refers to an invocation of define_task_block or define_task_block_restore_thread and "nearest
enclosing" means the most recent invocation that has not yet completed. Code designated for execution in another thread by means other than the facilities in this section (e.g., using thread or async) are not enclosed in the task region and a <a class="el" href="../../dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block.html">task_block</a> passed to (or captured by) such code is not active within that code. Performing any operation on a <a class="el" href="../../dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block.html">task_block</a> that is not active results in undefined behavior.</p>
<p>The <em><a class="el" href="../../dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block.html">task_block</a></em> that is active before a specific call to the run member function is not active within the asynchronous function that invoked run. (The invoked function should not, therefore, capture the <em><a class="el" href="../../dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block.html">task_block</a></em> from the surrounding block.)</p>
<div class="fragment"><div class="line">Example:</div><div class="line">    <a class="code" href="../../d2/d62/namespacehpx_1_1parallel_1_1v2.html#a542a6d325f132739dbda97b8f09dce4f">define_task_block</a>([&amp;](<span class="keyword">auto</span>&amp; tr) {</div><div class="line">        tr.run([&amp;] {</div><div class="line">            tr.run([] { <a class="code" href="../../d8/de8/cxx11__decltype_8cpp.html#a7f662ae1bc1219fffd3a04e4eb570942">f</a>(); });                <span class="comment">// Error: tr is not active</span></div><div class="line">            <a class="code" href="../../d2/d62/namespacehpx_1_1parallel_1_1v2.html#a542a6d325f132739dbda97b8f09dce4f">define_task_block</a>([&amp;](<span class="keyword">auto</span>&amp; tr) {   <span class="comment">// Nested task block</span></div><div class="line">                tr.run(<a class="code" href="../../d8/de8/cxx11__decltype_8cpp.html#a7f662ae1bc1219fffd3a04e4eb570942">f</a>);                      <span class="comment">// OK: inner tr is active</span></div><div class="line"><span class="comment"></span>            });</div><div class="line">        });</div><div class="line">    });</div></div><!-- fragment --><dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">ExPolicy</td><td>The execution policy an instance of a <em><a class="el" href="../../dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block.html">task_block</a></em> was created with. This defaults to <em>parallel_policy</em>. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/db7/task__block_8hpp_source.html#l00114">114</a> of file <a class="el" href="../../de/db7/task__block_8hpp_source.html">task_block.hpp</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="aab56ea8bdf25594112ccab9889c3e294"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab56ea8bdf25594112ccab9889c3e294">&#9670;&nbsp;</a></span>execution_policy</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ExPolicy = parallel::execution::parallel_policy&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef ExPolicy <a class="el" href="../../dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block.html">hpx::parallel::v2::task_block</a>&lt; ExPolicy &gt;::<a class="el" href="../../dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block.html#aab56ea8bdf25594112ccab9889c3e294">execution_policy</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Refers to the type of the execution policy used to create the <em><a class="el" href="../../dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block.html">task_block</a></em>. </p>

<p class="definition">Definition at line <a class="el" href="../../de/db7/task__block_8hpp_source.html#l00206">206</a> of file <a class="el" href="../../de/db7/task__block_8hpp_source.html">task_block.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac6a81aa62ea26bd2b790b573af04bac6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6a81aa62ea26bd2b790b573af04bac6">&#9670;&nbsp;</a></span>get_execution_policy()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ExPolicy = parallel::execution::parallel_policy&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block.html#aab56ea8bdf25594112ccab9889c3e294">execution_policy</a> const&amp; <a class="el" href="../../dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block.html">hpx::parallel::v2::task_block</a>&lt; ExPolicy &gt;::get_execution_policy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the execution policy instance used to create this <em><a class="el" href="../../dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block.html">task_block</a></em> </p>

<p class="definition">Definition at line <a class="el" href="../../de/db7/task__block_8hpp_source.html#l00210">210</a> of file <a class="el" href="../../de/db7/task__block_8hpp_source.html">task_block.hpp</a>.</p>

</div>
</div>
<a id="a1e54dbb3c28c991b928548366f500455"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e54dbb3c28c991b928548366f500455">&#9670;&nbsp;</a></span>policy() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ExPolicy = parallel::execution::parallel_policy&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ExPolicy&amp; <a class="el" href="../../dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block.html">hpx::parallel::v2::task_block</a>&lt; ExPolicy &gt;::policy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns a reference to the execution policy used to construct this object.</p>
<p>Precondition: this shall be the active <a class="el" href="../../dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block.html">task_block</a>. </p>

<p class="definition">Definition at line <a class="el" href="../../de/db7/task__block_8hpp_source.html#l00361">361</a> of file <a class="el" href="../../de/db7/task__block_8hpp_source.html">task_block.hpp</a>.</p>

</div>
</div>
<a id="a3a481461d7f33eff0c9b6df4bb093593"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a481461d7f33eff0c9b6df4bb093593">&#9670;&nbsp;</a></span>policy() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ExPolicy = parallel::execution::parallel_policy&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ExPolicy const&amp; <a class="el" href="../../dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block.html">hpx::parallel::v2::task_block</a>&lt; ExPolicy &gt;::policy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns a reference to the execution policy used to construct this object.</p>
<p>Precondition: this shall be the active <a class="el" href="../../dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block.html">task_block</a>. </p>

<p class="definition">Definition at line <a class="el" href="../../de/db7/task__block_8hpp_source.html#l00368">368</a> of file <a class="el" href="../../de/db7/task__block_8hpp_source.html">task_block.hpp</a>.</p>

</div>
</div>
<a id="a942ef260b49d3bd93b3f63df973b577b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a942ef260b49d3bd93b3f63df973b577b">&#9670;&nbsp;</a></span>run() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ExPolicy = parallel::execution::parallel_policy&gt; </div>
<div class="memtemplate">
template&lt;typename F , typename ... Ts&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block.html">hpx::parallel::v2::task_block</a>&lt; ExPolicy &gt;::run </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/dd8/class_f.html">F</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Ts &amp;&amp;...&#160;</td>
          <td class="paramname"><em>ts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Causes the expression <a class="el" href="../../d8/de8/cxx11__decltype_8cpp.html#a7f662ae1bc1219fffd3a04e4eb570942">f()</a> to be invoked asynchronously. The invocation of f is permitted to run on an unspecified thread in an unordered fashion relative to the sequence of operations following the call to run(f) (the continuation), or indeterminately sequenced within the same thread as the continuation.</p>
<p>The call to <em>run</em> synchronizes with the invocation of f. The completion of <a class="el" href="../../d8/de8/cxx11__decltype_8cpp.html#a7f662ae1bc1219fffd3a04e4eb570942">f()</a> synchronizes with the next invocation of wait on the same <a class="el" href="../../dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block.html">task_block</a> or completion of the nearest enclosing task block (i.e., the <em>define_task_block</em> or <em>define_task_block_restore_thread</em> that created this task block).</p>
<p>Requires: <a class="el" href="../../d8/dd8/class_f.html">F</a> shall be MoveConstructible. The expression, (void)<a class="el" href="../../d8/de8/cxx11__decltype_8cpp.html#a7f662ae1bc1219fffd3a04e4eb570942">f()</a>, shall be well-formed.</p>
<p>Precondition: this shall be the active <a class="el" href="../../dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block.html">task_block</a>.</p>
<p>Postconditions: <a class="el" href="../../d7/da0/struct_a.html">A</a> call to run may return on a different thread than that on which it was called.</p>
<dl class="section note"><dt>Note</dt><dd>The call to <em>run</em> is sequenced before the continuation as if <em>run</em> returns on the same thread. The invocation of the user-supplied callable object f may be immediate or may be delayed until compute resources are available. <em>run</em> might or might not return before invocation of f completes.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">This</td><td>function may throw <em><a class="el" href="../../da/dc6/classhpx_1_1parallel_1_1v2_1_1task__canceled__exception.html">task_canceled_exception</a></em>, as described in Exception Handling. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/db7/task__block_8hpp_source.html#l00243">243</a> of file <a class="el" href="../../de/db7/task__block_8hpp_source.html">task_block.hpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block_a942ef260b49d3bd93b3f63df973b577b_cgraph.png" border="0" usemap="#dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block_a942ef260b49d3bd93b3f63df973b577b_cgraph" alt=""/></div>
<map name="dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block_a942ef260b49d3bd93b3f63df973b577b_cgraph" id="dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block_a942ef260b49d3bd93b3f63df973b577b_cgraph">
<area shape="rect" id="node2" href="../../d7/d28/namespacehpx_1_1threads.html#afafe0f900b9fac3d4ed3c747625c1cfe" title="hpx::threads::get_self_id" alt="" coords="173,5,337,32"/>
<area shape="rect" id="node5" href="../../d7/d28/namespacehpx_1_1threads.html#a6c49fc6d131e6aa7ef6eda2ef52bb920" title="hpx::threads::async\l_execute" alt="" coords="187,57,324,98"/>
<area shape="rect" id="node12" href="../../db/db9/namespacehpx_1_1parallel_1_1v1.html#aa7c4ede081ce786c9d1eb1adff495cfc" title="hpx::parallel::v1::move" alt="" coords="180,123,331,149"/>
<area shape="rect" id="node3" href="../../d7/d28/namespacehpx_1_1threads.html#a22877ae347ad884cde3a51397dad6c53" title="hpx::threads::get_self_ptr" alt="" coords="385,5,555,32"/>
<area shape="rect" id="node4" href="../../d7/d28/namespacehpx_1_1threads.html#a07daf4d6d29233f20d66d41ab7b5b8e8" title="hpx::threads::get_self" alt="" coords="603,5,749,32"/>
<area shape="rect" id="node6" href="../../d8/d83/namespacehpx.html#acb7d8e37b73b823956ce144f9a57eaa4" title="hpx::async" alt="" coords="427,64,513,91"/>
<area shape="rect" id="node7" href="../../d2/d67/promise__1620_8cpp.html#a58357f0b82bc761e1d0b9091ed563a70" title="call" alt="" coords="655,60,697,87"/>
<area shape="rect" id="node8" href="../../d8/d89/structtest.html#ab42d5ece712d716b04cb3f686f297a26" title="test::test" alt="" coords="833,9,907,36"/>
<area shape="rect" id="node9" href="../../d2/d67/promise__1620_8cpp.html#ab96aab827a4b1fcaf66cfe0ba83fef23" title="HPX_PLAIN_ACTION" alt="" coords="797,60,943,87"/>
<area shape="rect" id="node10" href="../../d8/d89/structtest.html#aeb29e7ed6518b9426ccf1344c52620ae" title="test::call" alt="" coords="834,111,906,137"/>
<area shape="rect" id="node11" href="../../d2/de6/classhpx_1_1components_1_1component__base.html#a4c8fd93514039bdf01c48d66d82b19cd" title="hpx::components::component\l_base::get_id" alt="" coords="991,103,1185,145"/>
<area shape="rect" id="node13" href="../../d2/ddd/namespacehpx_1_1parallel_1_1v1_1_1detail.html#ab1b56a05e1885ca7cc7ffa1804dd2f3c" title="hpx::parallel::v1::\ldetail::transfer" alt="" coords="410,115,530,157"/>
</map>
</div>

</div>
</div>
<a id="ad19e4cb24036c2adbd421cec62926821"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad19e4cb24036c2adbd421cec62926821">&#9670;&nbsp;</a></span>run() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ExPolicy = parallel::execution::parallel_policy&gt; </div>
<div class="memtemplate">
template&lt;typename Executor , typename F , typename ... Ts&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block.html">hpx::parallel::v2::task_block</a>&lt; ExPolicy &gt;::run </td>
          <td>(</td>
          <td class="paramtype">Executor &amp;&#160;</td>
          <td class="paramname"><em>exec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/dd8/class_f.html">F</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Ts &amp;&amp;...&#160;</td>
          <td class="paramname"><em>ts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Causes the expression <a class="el" href="../../d8/de8/cxx11__decltype_8cpp.html#a7f662ae1bc1219fffd3a04e4eb570942">f()</a> to be invoked asynchronously using the given executor. The invocation of f is permitted to run on an unspecified thread associated with the given executor and in an unordered fashion relative to the sequence of operations following the call to run(exec, f) (the continuation), or indeterminately sequenced within the same thread as the continuation.</p>
<p>The call to <em>run</em> synchronizes with the invocation of f. The completion of <a class="el" href="../../d8/de8/cxx11__decltype_8cpp.html#a7f662ae1bc1219fffd3a04e4eb570942">f()</a> synchronizes with the next invocation of wait on the same <a class="el" href="../../dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block.html">task_block</a> or completion of the nearest enclosing task block (i.e., the <em>define_task_block</em> or <em>define_task_block_restore_thread</em> that created this task block).</p>
<p>Requires: Executor shall be a type modeling the Executor concept. <a class="el" href="../../d8/dd8/class_f.html">F</a> shall be MoveConstructible. The expression, (void)<a class="el" href="../../d8/de8/cxx11__decltype_8cpp.html#a7f662ae1bc1219fffd3a04e4eb570942">f()</a>, shall be well-formed.</p>
<p>Precondition: this shall be the active <a class="el" href="../../dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block.html">task_block</a>.</p>
<p>Postconditions: <a class="el" href="../../d7/da0/struct_a.html">A</a> call to run may return on a different thread than that on which it was called.</p>
<dl class="section note"><dt>Note</dt><dd>The call to <em>run</em> is sequenced before the continuation as if <em>run</em> returns on the same thread. The invocation of the user-supplied callable object f may be immediate or may be delayed until compute resources are available. <em>run</em> might or might not return before invocation of f completes.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">This</td><td>function may throw <em><a class="el" href="../../da/dc6/classhpx_1_1parallel_1_1v2_1_1task__canceled__exception.html">task_canceled_exception</a></em>, as described in Exception Handling. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/db7/task__block_8hpp_source.html#l00298">298</a> of file <a class="el" href="../../de/db7/task__block_8hpp_source.html">task_block.hpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block_ad19e4cb24036c2adbd421cec62926821_cgraph.png" border="0" usemap="#dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block_ad19e4cb24036c2adbd421cec62926821_cgraph" alt=""/></div>
<map name="dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block_ad19e4cb24036c2adbd421cec62926821_cgraph" id="dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block_ad19e4cb24036c2adbd421cec62926821_cgraph">
<area shape="rect" id="node2" href="../../d7/d28/namespacehpx_1_1threads.html#afafe0f900b9fac3d4ed3c747625c1cfe" title="hpx::threads::get_self_id" alt="" coords="173,5,337,32"/>
<area shape="rect" id="node5" href="../../d7/d28/namespacehpx_1_1threads.html#a6c49fc6d131e6aa7ef6eda2ef52bb920" title="hpx::threads::async\l_execute" alt="" coords="187,57,324,98"/>
<area shape="rect" id="node12" href="../../db/db9/namespacehpx_1_1parallel_1_1v1.html#aa7c4ede081ce786c9d1eb1adff495cfc" title="hpx::parallel::v1::move" alt="" coords="180,123,331,149"/>
<area shape="rect" id="node3" href="../../d7/d28/namespacehpx_1_1threads.html#a22877ae347ad884cde3a51397dad6c53" title="hpx::threads::get_self_ptr" alt="" coords="385,5,555,32"/>
<area shape="rect" id="node4" href="../../d7/d28/namespacehpx_1_1threads.html#a07daf4d6d29233f20d66d41ab7b5b8e8" title="hpx::threads::get_self" alt="" coords="603,5,749,32"/>
<area shape="rect" id="node6" href="../../d8/d83/namespacehpx.html#acb7d8e37b73b823956ce144f9a57eaa4" title="hpx::async" alt="" coords="427,64,513,91"/>
<area shape="rect" id="node7" href="../../d2/d67/promise__1620_8cpp.html#a58357f0b82bc761e1d0b9091ed563a70" title="call" alt="" coords="655,60,697,87"/>
<area shape="rect" id="node8" href="../../d8/d89/structtest.html#ab42d5ece712d716b04cb3f686f297a26" title="test::test" alt="" coords="833,9,907,36"/>
<area shape="rect" id="node9" href="../../d2/d67/promise__1620_8cpp.html#ab96aab827a4b1fcaf66cfe0ba83fef23" title="HPX_PLAIN_ACTION" alt="" coords="797,60,943,87"/>
<area shape="rect" id="node10" href="../../d8/d89/structtest.html#aeb29e7ed6518b9426ccf1344c52620ae" title="test::call" alt="" coords="834,111,906,137"/>
<area shape="rect" id="node11" href="../../d2/de6/classhpx_1_1components_1_1component__base.html#a4c8fd93514039bdf01c48d66d82b19cd" title="hpx::components::component\l_base::get_id" alt="" coords="991,103,1185,145"/>
<area shape="rect" id="node13" href="../../d2/ddd/namespacehpx_1_1parallel_1_1v1_1_1detail.html#ab1b56a05e1885ca7cc7ffa1804dd2f3c" title="hpx::parallel::v1::\ldetail::transfer" alt="" coords="410,115,530,157"/>
</map>
</div>

</div>
</div>
<a id="a409b3ac4d95c5f22eaf49a1012d26200"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a409b3ac4d95c5f22eaf49a1012d26200">&#9670;&nbsp;</a></span>wait()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ExPolicy = parallel::execution::parallel_policy&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block.html">hpx::parallel::v2::task_block</a>&lt; ExPolicy &gt;::wait </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Blocks until the tasks spawned using this <a class="el" href="../../dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block.html">task_block</a> have finished.</p>
<p>Precondition: this shall be the active <a class="el" href="../../dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block.html">task_block</a>.</p>
<p>Postcondition: All tasks spawned by the nearest enclosing task region have finished. <a class="el" href="../../d7/da0/struct_a.html">A</a> call to wait may return on a different thread than that on which it was called.</p>
<dl class="section note"><dt>Note</dt><dd>The call to <em>wait</em> is sequenced before the continuation as if <em>wait</em> returns on the same thread.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">This</td><td>function may throw <em><a class="el" href="../../da/dc6/classhpx_1_1parallel_1_1v2_1_1task__canceled__exception.html">task_canceled_exception</a></em>, as described in Exception Handling.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line">Example:</div><div class="line">    <a class="code" href="../../d2/d62/namespacehpx_1_1parallel_1_1v2.html#a542a6d325f132739dbda97b8f09dce4f">define_task_block</a>([&amp;](<span class="keyword">auto</span>&amp; tr) {</div><div class="line">        tr.run([&amp;]{ process(<a class="code" href="../../d9/dfa/cxx11__constexpr_8cpp.html#a851d6e0a9747ad6815bce9fcbc7f71ed">a</a>, w, <a class="code" href="../../d1/d59/structx.html">x</a>); }); <span class="comment">// Process a[w] through a[x]</span></div><div class="line">        <span class="keywordflow">if</span> (<a class="code" href="../../d8/da8/tuple_8cpp.html#ab3484afdb2dc610bf8d796cf90e9946e">y</a> &lt; <a class="code" href="../../d1/d59/structx.html">x</a>) tr.wait();   <span class="comment">// Wait if overlap between [w, x) and [y, z)</span></div><div class="line">        process(<a class="code" href="../../d9/dfa/cxx11__constexpr_8cpp.html#a851d6e0a9747ad6815bce9fcbc7f71ed">a</a>, <a class="code" href="../../d8/da8/tuple_8cpp.html#ab3484afdb2dc610bf8d796cf90e9946e">y</a>, z);       <span class="comment">// Process a[y] through a[z]</span></div><div class="line">    });</div></div><!-- fragment --> 
<p class="definition">Definition at line <a class="el" href="../../de/db7/task__block_8hpp_source.html#l00342">342</a> of file <a class="el" href="../../de/db7/task__block_8hpp_source.html">task_block.hpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block_a409b3ac4d95c5f22eaf49a1012d26200_cgraph.png" border="0" usemap="#dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block_a409b3ac4d95c5f22eaf49a1012d26200_cgraph" alt=""/></div>
<map name="dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block_a409b3ac4d95c5f22eaf49a1012d26200_cgraph" id="dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block_a409b3ac4d95c5f22eaf49a1012d26200_cgraph">
<area shape="rect" id="node2" href="../../d7/d28/namespacehpx_1_1threads.html#afafe0f900b9fac3d4ed3c747625c1cfe" title="hpx::threads::get_self_id" alt="" coords="173,13,337,39"/>
<area shape="rect" id="node3" href="../../d7/d28/namespacehpx_1_1threads.html#a22877ae347ad884cde3a51397dad6c53" title="hpx::threads::get_self_ptr" alt="" coords="385,13,555,39"/>
<area shape="rect" id="node4" href="../../d7/d28/namespacehpx_1_1threads.html#a07daf4d6d29233f20d66d41ab7b5b8e8" title="hpx::threads::get_self" alt="" coords="603,13,749,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block_a409b3ac4d95c5f22eaf49a1012d26200_icgraph.png" border="0" usemap="#dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block_a409b3ac4d95c5f22eaf49a1012d26200_icgraph" alt=""/></div>
<map name="dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block_a409b3ac4d95c5f22eaf49a1012d26200_icgraph" id="dc/d0d/classhpx_1_1parallel_1_1v2_1_1task__block_a409b3ac4d95c5f22eaf49a1012d26200_icgraph">
<area shape="rect" id="node2" href="../../d3/d41/classhpx_1_1process_1_1process.html#acc7ec4687f3bf5ae121ef7b494d991d8" title="hpx.process.process.join" alt="" coords="173,13,340,39"/>
</map>
</div>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="../../de/db7/task__block_8hpp_source.html">task_block.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Sep 18 2017 12:03:31 for HPX by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
